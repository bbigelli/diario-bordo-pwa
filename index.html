<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Di√°rio de Bordo</title>
    <meta name="description" content="Aplicativo para registro de atividades di√°rias">
    <meta name="theme-color" content="#2c3e50">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìñ Di√°rio de Bordo</h1>
            <p class="subtitle">Registre suas atividades di√°rias</p>
            <div class="pwa-info">
                <button id="installBtn" class="install-btn" style="display:none;">
                    üì≤ Instalar App
                </button>
                <div class="offline-status" id="offlineStatus">
                    <span class="online">‚óè Online</span>
                </div>
                <div id="swStatus" class="sw-status" style="display: none;">
                    ‚úì Offline Dispon√≠vel
                </div>
            </div>
        </header>

        <main>
            <section class="entry-form">
                <h2>Nova Entrada</h2>
                <form id="entryForm">
                    <div class="form-group">
                        <label for="title">T√≠tulo *</label>
                        <input type="text" id="title" placeholder="Ex: Reuni√£o de equipe" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Descri√ß√£o *</label>
                        <textarea id="description" rows="4" placeholder="Descreva sua atividade..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">Data *</label>
                        <input type="date" id="date" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Entrada
                        </button>
                        <button type="button" id="clearBtn" class="btn btn-secondary">
                            üóëÔ∏è Limpar
                        </button>
                    </div>
                    <p class="form-help">* Campos obrigat√≥rios</p>
                </form>
            </section>

            <section class="entries-list">
                <div class="section-header">
                    <h2>Entradas Registradas</h2>
                    <div class="entry-count">
                        <span id="entryCount">0</span> entradas
                    </div>
                </div>
                
                <div id="entriesContainer" class="entries-container">
                    <!-- Entradas ser√£o carregadas aqui dinamicamente -->
                    <div class="empty-state" id="emptyState">
                        <div class="empty-icon">üìù</div>
                        <p>Nenhuma entrada registrada ainda.</p>
                        <p>Comece adicionando uma nova entrada acima!</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Di√°rio de Bordo PWA ‚Ä¢ Funciona offline ‚Ä¢ Dados salvos localmente</p>
            <p class="storage-info">
                <span id="storageStatus">Armazenamento local dispon√≠vel</span>
                <button id="debugBtn" class="debug-btn" title="Debug">üêõ</button>
            </p>
        </footer>
    </div>

    <!-- Modal de confirma√ß√£o para exclus√£o -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>Confirmar Exclus√£o</h3>
            <p>Tem certeza que deseja excluir esta entrada?</p>
            <div class="modal-actions">
                <button id="cancelDelete" class="btn btn-secondary">Cancelar</button>
                <button id="confirmDelete" class="btn btn-danger">Excluir</button>
            </div>
        </div>
    </div>

    <!-- Modal de Debug -->
    <div id="debugModal" class="modal">
        <div class="modal-content debug-modal">
            <h3>üîß Debug do PWA</h3>
            <div class="debug-info">
                <h4>Status do Service Worker:</h4>
                <pre id="swDebugInfo">Carregando...</pre>
                
                <h4>Cache Status:</h4>
                <pre id="cacheDebugInfo">Carregando...</pre>
                
                <h4>Dados Locais:</h4>
                <pre id="dataDebugInfo">Carregando...</pre>
            </div>
            <div class="debug-actions">
                <button id="clearCacheBtn" class="btn btn-secondary">Limpar Cache</button>
                <button id="unregisterSWBtn" class="btn btn-secondary">Remover Service Worker</button>
                <button id="closeDebugBtn" class="btn btn-primary">Fechar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>